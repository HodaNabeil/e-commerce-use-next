(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5],{8638:(e,r,s)=>{Promise.resolve().then(s.bind(s,8656))},8656:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>k});var t=s(5155),a=s(5695),l=s(2115),i=s(2138);function d(e){let{Props:r}=e,{cartItems:s,activeStep:l}=r,d=(0,a.useRouter)();return(0,t.jsxs)("div",{className:"w-full lg:w-7/12 shadow-lg border-1 border-amber-100 p-8 rounded-lg flex  h-max      flex-col gap-8",children:[(0,t.jsx)("h2",{className:"text-2xl font-medium",children:"Order Summary"}),(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,t.jsx)("p",{className:"text-gray-500 ",children:"subtotal"}),(0,t.jsx)("span",{className:"  font-medium ",children:s.reduce((e,r)=>e+r.price*r.quantity,0).toFixed(2)})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,t.jsx)("p",{className:"text-gray-500 ",children:"shipping"}),(0,t.jsx)("span",{className:"  font-medium ",children:"0"})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,t.jsx)("p",{className:"text-gray-500 ",children:"discount"}),(0,t.jsx)("span",{className:"  font-medium ",children:"8%"})]}),(0,t.jsx)("hr",{className:"border-1 border-gray-200"}),(0,t.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,t.jsx)("p",{className:"text-gray-800 capitalize text-md  font-medium",children:"total"}),(0,t.jsx)("span",{className:"  font-medium ",children:s.reduce((e,r)=>e+r.price*r.quantity,0).toFixed(2)})]})]}),1===l&&(0,t.jsxs)("button",{onClick:()=>d.push("/cart?step=2",{scroll:!1}),className:"bg-gray-700 hover:bg-gray-900 tarnsitin-all duration-300   rounded-lg !cursor-pointer flex items-center justify-center  text-white p-2 px-4 w-full ",children:["containue",(0,t.jsx)(i.A,{className:"w-4 h-4 ml-2"})]})]})}var n=s(2177),c=s(1442);let o=c.Ay$.object({name:c.Ay$.string().min(2,"Name is required and must be more than 2 characters"),email:c.Ay$.string().email("Invalid email address"),phone:c.Ay$.string().min(7,"Phone number must be between 7 and 10 digits").max(12,"Phone number must be between 7 and 10 digits").regex(/^\d+$/,"Phone number must contain only digits"),address:c.Ay$.string().min(5,"Address is required and must be more than 5 characters"),city:c.Ay$.string().min(2,"City is required")}),m=c.Ay$.object({cardHolder:c.Ay$.string().min(1,"Card holder is required"),cardNumber:c.Ay$.string().min(16,"Card number must be 16 digits").max(16,"Card number must be 16 digits").regex(/^\d+$/,"Card number must contain only digits"),expirationDate:c.Ay$.string().regex(/^(0[1-9]|1[0-2])\/\d{2}$/,"Expiration date must be in MM/YY format"),cvv:c.Ay$.string().min(3,"CVV must be 3 digits").max(3,"CVV must be 3 digits").regex(/^\d+$/,"CVV must contain only digits")});var x=s(221),u=s(7809),p=s(6766);function g(){let{register:e,handleSubmit:r,formState:{errors:s,isSubmitting:a}}=(0,n.mN)({resolver:(0,x.u)(m)}),l=r(async e=>{});return(0,t.jsxs)("form",{onSubmit:l,className:"flex flex-col gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"cardHolder",className:"block mb-1 text-sm font-medium text-gray-700",children:"Card Holder Name"}),(0,t.jsx)("input",{type:"text",id:"cardHolder",placeholder:"Enter card holder name",className:"w-full px-4 py-2 border   border-gray-300 rounded-md !outline-none focus:ring-gray-200   focus:border-gray-200 placeholder-gray-400",...e("cardHolder")}),s.cardHolder&&(0,t.jsx)("p",{className:"text-xs text-red-500 mt-1.5",children:s.cardHolder.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"cardNumber",className:"block mb-1 text-sm font-medium text-gray-700",children:"Card Number"}),(0,t.jsx)("input",{type:"text",id:"cardNumber",placeholder:"Enter card number (16 digits)",className:"w-full px-4 py-2 border   border-gray-300 rounded-md !outline-none focus:ring-gray-200   focus:border-gray-200 placeholder-gray-400",maxLength:16,...e("cardNumber")}),s.cardNumber&&(0,t.jsx)("p",{className:"text-xs text-red-500 mt-1.5",children:s.cardNumber.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"expirationDate",className:"block mb-1 text-sm font-medium text-gray-700",children:"Expiry Date"}),(0,t.jsx)("input",{type:"text",id:"expirationDate",placeholder:"MM/YY",className:"w-full px-4 py-2 border   border-gray-300 rounded-md !outline-none focus:ring-gray-200   focus:border-gray-200 placeholder-gray-400",maxLength:5,...e("expirationDate")}),s.expirationDate&&(0,t.jsx)("p",{className:"text-xs text-red-500 mt-1.5",children:s.expirationDate.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"cvv",className:"block mb-1 text-sm font-medium text-gray-700",children:"CVV"}),(0,t.jsx)("input",{type:"text",id:"cvv",placeholder:"CVV",className:"w-full px-4 py-2 border   border-gray-300 rounded-md !outline-none focus:ring-gray-200   focus:border-gray-200 placeholder-gray-400",maxLength:3,...e("cvv")}),s.cvv&&(0,t.jsx)("p",{className:"text-xs text-red-500 mt-1.5",children:s.cvv.message})]}),(0,t.jsxs)("div",{className:"flex gap-4 items-center my-3",children:[(0,t.jsx)(p.default,{src:"/klarna.png",alt:"klara",width:50,height:25,className:"rounded-md"}),(0,t.jsx)(p.default,{src:"/cards.png",alt:"klara",width:50,height:25,className:"rounded-md"}),(0,t.jsx)(p.default,{src:"/stripe.png",alt:"klara",width:50,height:25,className:"rounded-md"})]}),(0,t.jsx)("button",{type:"submit",disabled:a,className:"w-full py-3 px-4 border cursor-pointer    border-transparent rounded-md  text-sm font-medium text-white   focus:outline-none    focus:ring-offset-2    disabled:cursor-not-allowed    transition-colors duration-200  bg-gray-900 hover:bg-gray-800  ",children:a?"Processing...":(0,t.jsxs)("div",{className:"flex items-center justify-center",children:["Continue",(0,t.jsx)(u.A,{className:"w-3 h-3 ml-2 flex items-center "})]})})]})}var h=s(9161),y=s(2525);function b(e){let{item:r}=e,{removeFromCart:s}=(0,h.A)();return(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex  gap-4",children:[(0,t.jsx)("div",{className:"relative w-32 h-32 rounded-lg overflow-hidden",children:(0,t.jsx)(p.default,{src:r.images[r.selectedColor],alt:r.name,fill:!0,className:" object-cover"})}),(0,t.jsxs)("div",{className:"flex flex-col justify-between ",children:[(0,t.jsxs)("div",{className:" flx flex-col gap-1 text-gray-500 text-sm ",children:[(0,t.jsx)("p",{children:r.name}),(0,t.jsxs)("p",{children:[" quantity :",r.quantity]}),(0,t.jsxs)("p",{children:["size : ",r.selectedSize]}),(0,t.jsxs)("p",{children:["color : ",r.selectedColor]})]}),(0,t.jsxs)("p",{className:"text-sm font-medium",children:["$",r.price.toFixed(2)]})]})]}),(0,t.jsx)("button",{onClick:()=>s(r),className:"gap-2 w-8 h-8 bg-gray-100 hover:bg-gray-200 transition-all duration-300    p-2 py-1 rounded-full cursor-pointer text-red-400",children:(0,t.jsx)(y.A,{className:"w-4 h-4 flex items-center"})})]})}function f(e){let{setShippingForm:r}=e,s=(0,a.useRouter)(),{register:l,handleSubmit:d,formState:{errors:c,isSubmitting:m}}=(0,n.mN)({resolver:(0,x.u)(o)}),u=d(async e=>{r(e),s.push("/cart?step=3",{scroll:!1})});return(0,t.jsxs)("form",{onSubmit:u,className:"flex flex-col gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"name",className:"block mb-1  text-sm font-medium text-gray-700",children:"Name"}),(0,t.jsx)("input",{type:"text",id:"name",placeholder:"Enter your name",className:"w-full px-4 py-2 border   border-gray-300 rounded-md !outline-none focus:ring-gray-200   focus:border-gray-200 placeholder-gray-400",...l("name")}),c.name&&(0,t.jsx)("p",{className:" text-xs text-red-500 mt-1.5",children:c.name.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"email",className:"block  mb-1 text-sm font-medium text-gray-700",children:"Email"}),(0,t.jsx)("input",{type:"email",id:"email",placeholder:"you@example.com",className:"w-full px-4 py-2 border   border-gray-300 rounded-md  !outline-none focus:ring-gray-200   focus:border-gray-200 placeholder-gray-400",...l("email")}),c.email&&(0,t.jsx)("p",{className:" text-xs text-red-500 mt-1.5",children:c.email.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"phone",className:"block mb-1 text-sm font-medium text-gray-700",children:"Phone Number"}),(0,t.jsx)("input",{type:"tel",id:"phone",placeholder:"Enter your phone number",className:"w-full px-4 py-2 border   border-gray-300 rounded-md  !outline-none focus:ring-gray-200   focus:border-gray-200 placeholder-gray-400",...l("phone")}),c.phone&&(0,t.jsx)("p",{className:" text-xs text-red-500 mt-1.5",children:c.phone.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"address",className:"block mb-1 text-sm font-medium text-gray-700",children:"Address"}),(0,t.jsx)("input",{type:"text",id:"address",placeholder:"Enter your address",className:"w-full px-4 py-2 border   border-gray-300 rounded-md !outline-none focus:ring-gray-200   focus:border-gray-200 placeholder-gray-400",...l("address")}),c.address&&(0,t.jsx)("p",{className:" text-xs text-red-500 mt-1.5",children:c.address.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"city",className:"block mb-1 text-sm font-medium text-gray-700",children:"City"}),(0,t.jsx)("input",{type:"text",id:"city",placeholder:"Enter your city",className:"w-full px-4 py-2 border   border-gray-300 rounded-md  !outline-none focus:ring-gray-200   focus:border-gray-200 placeholder-gray-400",...l("city")}),c.city&&(0,t.jsx)("p",{className:" text-xs text-red-500 mt-1.5",children:c.city.message})]}),(0,t.jsx)("button",{type:"submit",disabled:m,className:"w-full py-3 px-4 border cursor-pointer    border-transparent rounded-md  text-sm font-medium text-white   focus:outline-none    focus:ring-offset-2    disabled:cursor-not-allowed    transition-colors duration-200  bg-gray-900 hover:bg-gray-800  ",children:m?"Processing...":(0,t.jsxs)("div",{className:"flex items-center justify-center",children:["Continue",(0,t.jsx)(i.A,{className:"w-3 h-3 ml-2 flex items-center "})]})})]})}function j(e){let{activeStep:r}=e,[s,a]=(0,l.useState)({name:"",email:"",phone:"",address:"",city:""}),{cart:i}=(0,h.A)();return(0,t.jsx)("div",{className:"w-full lg:w-7/12 shadow-lg border-1 border-amber-100 p-8 rounded-lg flexflex-col gap-8",children:1===r?i.map(e=>(0,t.jsx)(b,{item:e},e.id+e.selectedSize+e.selectedColor)):2===r?(0,t.jsx)(f,{setShippingForm:a}):3===r&&s?(0,t.jsx)(g,{}):(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"Please fill the shipping form first"})})}let N=[{id:1,title:"Shopping Cart"},{id:2,title:"Shipping address"},{id:3,title:"Payment Method"}];function v(e){let{activeStep:r}=e;return(0,t.jsx)("div",{className:"flex flex-col gap-4 lg:flex-row  items-center",children:N.map(e=>(0,t.jsxs)("div",{className:"flex gap-3 font-medium items-center\n                border-b-2 pb-4\n               ".concat(r===e.id?" border-gray-800":"border-gray-200 text-gray-400"),children:[(0,t.jsx)("p",{className:"w-6 h-6 rounded-full flex justify-center items-center p-4\n                 ".concat(r===e.id?"bg-gray-800 text-white":"bg-gray-200 text-gray-400"),children:e.id}),(0,t.jsx)("p",{className:" font-medium text-sm\n                 ".concat(r===e.id?" text-white":" text-gray-400"),children:e.title})]},e.id))})}let w=[{id:1,name:"Nike Ultraboost Pulse",shortDescription:"راحة وأناقة بأحدث تكنولوجيا الجري.",description:"حذاء Nike Ultraboost Pulse مصمم بأحدث تقنيات الراحة والدعم. خامات عالية الجودة مع تهوية مثالية لجعل خطواتك أكثر خفة.",price:69.9,sizes:["s","m","l","xl","xxl"],colors:["gray","pink"],images:{gray:"/products/7g.png",pink:"/products/7p.png"},quantity:1,selectedSize:"s",selectedColor:"gray"},{id:2,name:"Levi's Classic Denim",shortDescription:"بنطلون جينز كلاسيكي يناسب كل الأوقات.",description:"جينز Levi's Classic Denim مصنوع من خامة متينة وجودة عالية، مناسب للخروج الكاجوال أو العمل مع تصميم أنيق ومريح.",price:59.9,sizes:["s","m","l"],colors:["blue","green"],images:{blue:"/products/2g.png",green:"/products/2gr.png"},quantity:9,selectedSize:"m",selectedColor:" blue"},{id:3,name:"Adidas Running Tee",shortDescription:"تيشيرت رياضي خفيف ومريح.",description:"تيشيرت Adidas مصنوع من قماش مرن وخفيف، يساعدك على الجري أو التمرين براحة تامة مع تهوية ممتازة.",price:29.9,sizes:["s","m","l","xl"],colors:["black","white"],images:{black:"/products/3b.png",white:"/products/3bl.png"},quantity:9,selectedSize:"xl",selectedColor:"black"}];function C(){let e=parseInt((0,a.useSearchParams)().get("step")||"1");return(0,t.jsxs)("div",{className:" flex flex-col gap-8 items-center justify-center mt-12",children:[(0,t.jsx)("h1",{className:"text-2xl font-medium",children:"Your Shopping Cart"}),(0,t.jsx)(v,{activeStep:e}),(0,t.jsxs)("div",{className:"w-full flex flex-col lg:flex-row gap-16",children:[(0,t.jsx)(j,{activeStep:e}),(0,t.jsx)(d,{Props:{cartItems:w,activeStep:e}})]})]})}function k(){return(0,t.jsx)(l.Suspense,{fallback:(0,t.jsx)("div",{children:"Loading..."}),children:(0,t.jsx)(C,{})})}},9161:(e,r,s)=>{"use strict";s.d(r,{A:()=>l});var t=s(5453),a=s(6786);let l=(0,t.v)()((0,a.Zr)(e=>({cart:[],hasHydrated:!1,addToCart:r=>e(e=>{let s=e.cart.findIndex(e=>e.id===r.id&&e.selectedSize===r.selectedSize&&e.selectedColor===r.selectedColor);if(-1!==s){let t=[...e.cart];return t[s].quantity+=r.quantity||1,{cart:t}}return{cart:[...e.cart,{...r,quantity:r.quantity||1,selectedColor:r.selectedColor,selectedSize:r.selectedSize}]}}),removeFromCart:r=>e(e=>({cart:e.cart.filter(e=>e.id!==r.id||e.selectedColor!==r.selectedColor||e.selectedSize!==r.selectedSize)})),clearCart:()=>e({cart:[]})}),{name:"cart-storage",storage:(0,a.KU)(()=>localStorage),onRehydrateStorage:()=>e=>{e&&(e.hasHydrated=!0)}}))}},e=>{e.O(0,[640,460,441,964,358],()=>e(e.s=8638)),_N_E=e.O()}]);