{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///D:/MY-Projects/coures-next/e-commerce/client/src/app/store/cart.ts"],"sourcesContent":["import { create } from \"zustand\";\r\nimport { CartActions, CartItems, CartState } from \"../types/cart\";\r\n\r\nimport { persist, createJSONStorage } from \"zustand/middleware\";\r\n\r\nconst useCartStore = create<CartState & CartActions>()(\r\n  persist(\r\n    (set) => ({\r\n      cart: [] as CartItems[],\r\n      hasHydrated: false,\r\n      addToCart: (product: CartItems) =>\r\n        set((state) => {\r\n          const existingIndex = state.cart.findIndex(\r\n            (item) =>\r\n              item.id === product.id &&\r\n              item.selectedSize === product.selectedSize &&\r\n              item.selectedColor === product.selectedColor\r\n          );\r\n\r\n          if (existingIndex !== -1) {\r\n            const updatedCart = [...state.cart];\r\n            updatedCart[existingIndex].quantity += product.quantity || 1;\r\n            return { cart: updatedCart };\r\n          }\r\n\r\n          return {\r\n            cart: [\r\n              ...state.cart,\r\n              {\r\n                ...product,\r\n                quantity: product.quantity || 1,\r\n                // هيتم الحصول عليهم من المنتج\r\n                selectedColor: product.selectedColor,\r\n                selectedSize: product.selectedSize,\r\n              },\r\n            ],\r\n          };\r\n        }),\r\n      removeFromCart: (product: CartItems) =>\r\n        set((state) => ({\r\n          cart: state.cart.filter(\r\n            (item: CartItems) =>\r\n              !(\r\n                item.id === product.id &&\r\n                item.selectedColor === product.selectedColor &&\r\n                item.selectedSize === product.selectedSize\r\n              )\r\n          ),\r\n        })),\r\n      clearCart: () => set({ cart: [] }),\r\n    }),\r\n    {\r\n      name: \"cart-storage\",\r\n      storage: createJSONStorage(() => localStorage),\r\n      onRehydrateStorage: () => (state) => {\r\n        if (state) {\r\n          state.hasHydrated = true;\r\n        }\r\n      },\r\n    }\r\n  )\r\n);\r\n\r\nexport default useCartStore;\r\n"],"names":[],"mappings":";;;AAAA;AAGA;;;AAEA,MAAM,eAAe,CAAA,GAAA,2IAAA,CAAA,SAAM,AAAD,IACxB,CAAA,GAAA,gJAAA,CAAA,UAAO,AAAD,EACJ,CAAC,MAAQ,CAAC;QACR,MAAM,EAAE;QACR,aAAa;QACb,WAAW,CAAC,UACV,IAAI,CAAC;gBACH,MAAM,gBAAgB,MAAM,IAAI,CAAC,SAAS,CACxC,CAAC,OACC,KAAK,EAAE,KAAK,QAAQ,EAAE,IACtB,KAAK,YAAY,KAAK,QAAQ,YAAY,IAC1C,KAAK,aAAa,KAAK,QAAQ,aAAa;gBAGhD,IAAI,kBAAkB,CAAC,GAAG;oBACxB,MAAM,cAAc;2BAAI,MAAM,IAAI;qBAAC;oBACnC,WAAW,CAAC,cAAc,CAAC,QAAQ,IAAI,QAAQ,QAAQ,IAAI;oBAC3D,OAAO;wBAAE,MAAM;oBAAY;gBAC7B;gBAEA,OAAO;oBACL,MAAM;2BACD,MAAM,IAAI;wBACb;4BACE,GAAG,OAAO;4BACV,UAAU,QAAQ,QAAQ,IAAI;4BAC9B,8BAA8B;4BAC9B,eAAe,QAAQ,aAAa;4BACpC,cAAc,QAAQ,YAAY;wBACpC;qBACD;gBACH;YACF;QACF,gBAAgB,CAAC,UACf,IAAI,CAAC,QAAU,CAAC;oBACd,MAAM,MAAM,IAAI,CAAC,MAAM,CACrB,CAAC,OACC,CAAC,CACC,KAAK,EAAE,KAAK,QAAQ,EAAE,IACtB,KAAK,aAAa,KAAK,QAAQ,aAAa,IAC5C,KAAK,YAAY,KAAK,QAAQ,YAAY,AAC5C;gBAEN,CAAC;QACH,WAAW,IAAM,IAAI;gBAAE,MAAM,EAAE;YAAC;IAClC,CAAC,GACD;IACE,MAAM;IACN,SAAS,CAAA,GAAA,gJAAA,CAAA,oBAAiB,AAAD,EAAE,IAAM;IACjC,oBAAoB,IAAM,CAAC;YACzB,IAAI,OAAO;gBACT,MAAM,WAAW,GAAG;YACtB;QACF;AACF;uCAIW","debugId":null}},
    {"offset": {"line": 66, "column": 0}, "map": {"version":3,"sources":["file:///D:/MY-Projects/coures-next/e-commerce/client/src/app/components/shared/ShoppingCartIcon.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport useCartStore from \"@/app/store/cart\";\r\nimport { ShoppingCart } from \"lucide-react\";\r\nimport Link from \"next/link\";\r\nimport React from \"react\";\r\n\r\nexport default function ShoppingCartIcon() {\r\n  const { cart, hasHydrated } = useCartStore();\r\n\r\n  if (!hasHydrated) return null;\r\n  return (\r\n    <Link href=\"/cart\" className=\"relative\">\r\n      <ShoppingCart className=\"text-gray-600 w-4 h-4\" />\r\n      <span\r\n        className=\"\r\n      absolute -top-3 -right-3 w-5 h-5  \r\n      \r\n      text-xs text-gray-600 flex justify-center item-center bg-amber-400 !rounded-[50%] \"\r\n      >\r\n        {cart.reduce((acc, item) => acc + item.quantity, 0)}\r\n      </span>\r\n    </Link>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;;;AAJA;;;;AAOe,SAAS;;IACtB,MAAM,EAAE,IAAI,EAAE,WAAW,EAAE,GAAG,CAAA,GAAA,8HAAA,CAAA,UAAY,AAAD;IAEzC,IAAI,CAAC,aAAa,OAAO;IACzB,qBACE,6LAAC,+JAAA,CAAA,UAAI;QAAC,MAAK;QAAQ,WAAU;;0BAC3B,6LAAC,yNAAA,CAAA,eAAY;gBAAC,WAAU;;;;;;0BACxB,6LAAC;gBACC,WAAU;0BAKT,KAAK,MAAM,CAAC,CAAC,KAAK,OAAS,MAAM,KAAK,QAAQ,EAAE;;;;;;;;;;;;AAIzD;GAjBwB;;QACQ,8HAAA,CAAA,UAAY;;;KADpB","debugId":null}}]
}